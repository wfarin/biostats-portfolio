[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "portfolio-wf",
    "section": "",
    "text": "I am a biostatistician / data scientist with over 10 years of experience in the analysis of biological and clinical data, specializing in biomarkers and the microbiome. This repository gathers several projects showcasing my skills in applied statistics, machine learning, and deep learning."
  },
  {
    "objectID": "mon-cv.html",
    "href": "mon-cv.html",
    "title": "Mon CV",
    "section": "",
    "text": "üëâ T√©l√©charger le CV en PDF"
  },
  {
    "objectID": "mon-cv.html#t√©l√©charger",
    "href": "mon-cv.html#t√©l√©charger",
    "title": "Mon CV",
    "section": "",
    "text": "üëâ T√©l√©charger le CV en PDF"
  },
  {
    "objectID": "survival_analysis.html",
    "href": "survival_analysis.html",
    "title": "Analyse de survie avec R",
    "section": "",
    "text": "# Chargement des librairies library(survival) library(survminer)\nsurv_obj &lt;- Surv(time = lung$time, event = lung$status)\nsurv_obj[1:10]\n\n [1]  306   455  1010+  210   883  1022+  310   361   218   166\nkm_fit &lt;- survfit(surv_obj ~ 1, data = lung)\n\nggsurvplot(\n  km_fit,\n  conf.int = TRUE,\n  risk.table = TRUE,\n  title = \"Courbe de survie globale (Kaplan-Meier)\",\n  xlab = \"Temps (jours)\",\n  ylab = \"Probabilit√© de survie\"\n)\nkm_fit_group &lt;- survfit(surv_obj ~ sex, data = lung)\n\nggsurvplot(\n  km_fit_group,\n  data = lung,\n  pval = TRUE,\n  conf.int = TRUE,\n  risk.table = TRUE,\n  legend.title = \"Sexe\",\n  legend.labs = c(\"Homme\", \"Femme\")\n)\ncox_fit &lt;- coxph(surv_obj ~ age + sex, data = lung)\nsummary(cox_fit)\n\nCall:\ncoxph(formula = surv_obj ~ age + sex, data = lung)\n\n  n= 228, number of events= 165 \n\n         coef exp(coef)  se(coef)      z Pr(&gt;|z|)   \nage  0.017045  1.017191  0.009223  1.848  0.06459 . \nsex -0.513219  0.598566  0.167458 -3.065  0.00218 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n    exp(coef) exp(-coef) lower .95 upper .95\nage    1.0172     0.9831    0.9990    1.0357\nsex    0.5986     1.6707    0.4311    0.8311\n\nConcordance= 0.603  (se = 0.025 )\nLikelihood ratio test= 14.12  on 2 df,   p=9e-04\nWald test            = 13.47  on 2 df,   p=0.001\nScore (logrank) test = 13.72  on 2 df,   p=0.001"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "survival_analysis.html#sample-size-with-rpact",
    "href": "survival_analysis.html#sample-size-with-rpact",
    "title": "Analyse de survie avec R",
    "section": "SAMPLE SIZE WITH RPACT",
    "text": "SAMPLE SIZE WITH RPACT\n\nlibrary(rpact)\nlibrary(tidyverse)\nlibrary(gsDesign)\nlibrary(gt)\n\nget_number &lt;- function (x, element) {\n  x[[element]]\n}\n\nPATH_OUTPUT &lt;- getwd() %&gt;% \n  dirname() %&gt;% \n  file.path(\"output\")\n\nsampleSize_rpact &lt;- getSampleSizeSurvival(accrualTime = 8, followUpTime = 10,\n    sided = 1, alpha = 0.05, beta = 0.2,\n    median1 = 9, median2 = 14.5,\n)\nkable(sampleSize_rpact)\n\nDesign plan parameters and output for survival data\nDesign parameters\n\nCritical values: 1.645\nSignificance level: 0.0500\nType II error rate: 0.2000\nTest: one-sided\n\nUser defined parameters\n\nmedian(1): 9.0\nmedian(2): 14.5\nAccrual time: 8.00\nFollow up time: 10.00\n\nDefault parameters\n\nTheta H0: 1\nType of computation: Schoenfeld\nPlanned allocation ratio: 1\nkappa: 1\nDrop-out rate (1): 0.000\nDrop-out rate (2): 0.000\nDrop-out time: 12.00\n\nSample size and output\n\nDirection upper: TRUE\nlambda(1): 0.077\nlambda(2): 0.0478\nHazard ratio: 1.611\nNumber of events: 108.7\nAccrual intensity: 23.9\nNumber of events fixed: 108.7\nNumber of subjects fixed: 190.9\nNumber of subjects fixed (1): 95.4\nNumber of subjects fixed (2): 95.4\nAnalysis time: 18.00\nStudy duration: 18.00\nCritical values (treatment effect scale): 1.371\n\nLegend\n\n(i): values of treatment arm i"
  },
  {
    "objectID": "survival_analysis.html#power-with-rpact",
    "href": "survival_analysis.html#power-with-rpact",
    "title": "Analyse de survie avec R",
    "section": "POWER WITH RPACT",
    "text": "POWER WITH RPACT\n\nCompute event rate first\n\nprobEvent_rpact &lt;- getEventProbabilities(lambda1 = log(2)/9, lambda2 = log(2)/14.5,\n    time =18, \n    accrualTime = 8,\n    maxNumberOfSubjects = 191\n)\nkable(probEvent_rpact)\n\nEvent probabilities at given time\nUser defined parameters\n\nTime: 18.00\nAccrual time: 8.00\nlambda(1): 0.077\nlambda(2): 0.0478\nMaximum number of subjects: 191\n\nDefault parameters\n\nkappa: 1\nPlanned allocation ratio: 1\nDrop-out rate (1): 0.000\nDrop-out rate (2): 0.000\nDrop-out time: 12.00\n\nTime and output\n\nAccrual intensity: 23.9\nHazard ratio: 1.611\nCumulative event probabilities: 0.5696\nEvent probabilities (1): 0.6544\nEvent probabilities (2): 0.4848\n\nLegend\n\n(i): values of treatment arm i\n\n\n\n\n\nCompute power then\n\nn_event_rpact &lt;- probEvent_rpact$cumulativeEventProbabilities * 191\ndesign_rpact &lt;- getDesignGroupSequential(kMax = 1,\n    sided = 1, alpha = 0.05,\n    typeOfDesign = \"asOF\"\n)\n\npowerResult_rpact &lt;- getPowerSurvival(\n    design = design_rpact, median1 = 9, median2 = 14.5,\n    accrualTime = 8, \n    maxNumberOfSubjects = 191, maxNumberOfEvents = n_event_rpact\n)\nkable(powerResult_rpact)\n\nDesign plan parameters and output for survival data\nDesign parameters\n\nCritical values: 1.645\nSignificance level: 0.0500\nTest: one-sided\n\nUser defined parameters\n\nmedian(1): 9.0\nmedian(2): 14.5\nMaximum number of subjects: 191\nNumber of events: 108.8\nAccrual time: 8.00\n\nDefault parameters\n\nTheta H0: 1\nType of computation: Schoenfeld\nDirection upper: TRUE\nPlanned allocation ratio: 1\nkappa: 1\nDrop-out rate (1): 0.000\nDrop-out rate (2): 0.000\nDrop-out time: 12.00\n\nPower and output\n\nlambda(1): 0.077\nlambda(2): 0.0478\nHazard ratio: 1.611\nAccrual intensity: 23.9\nFollow up time: 10.00\nExpected number of events: 108.8\nOverall reject: 0.8002\nAnalysis time: 18.00\nStudy duration: 18.00\nExpected number of subjects: 191\nCritical values (treatment effect scale): 1.371\n\nLegend\n\n(i): values of treatment arm i\n\n\n\n\n\nSAMPLE SIZE WITH gsDesign\n\nr &lt;- 1 # Experimental/control randomization ratio\nalpha &lt;- 0.05 # 1-sided Type I error\nbeta &lt;- 0.2 # Type II error (1 - power)\nhr &lt;- 14.5/9 # Hazard ratio (experimental / control)\ncontrolMedian &lt;- 9\ndropoutRate &lt;- 0 # Exponential dropout rate per time unit\nenrollDuration &lt;- 8\nminfup &lt;- 10 # Minimum follow-up\nNlf &lt;- nSurvival(sided = 1,\n  lambda1 = log(2) / 9, lambda2 = log(2) / 14.5,\n  eta = dropoutRate,\n  Tr = enrollDuration,\n  Ts = 18,\n  ratio = r,\n  alpha = alpha,\n  beta = beta\n)\ncat(paste(\"Sample size: \", ceiling(Nlf$n), \"Events: \", ceiling(Nlf$nEvents), \"\\n\"))\n\nSample size:  191 Events:  109"
  },
  {
    "objectID": "survival_analysis.html#new-plan-for-18-months",
    "href": "survival_analysis.html#new-plan-for-18-months",
    "title": "Analyse de survie avec R",
    "section": "## New plan for 18 months",
    "text": "## New plan for 18 months\n\ntable_n &lt;- expand_grid(alpha = c(0.025, 0.05, 0.10, 0.15, 0.20),\n\n                       power = c(0.60, 0.65, 0.70, 0.75, 0.80, 0.85, 0.90, 0.95), \n\n                       median1 = 5.6,\n\n                       median2 = c(7.6, 8.6, 9.1)) %&gt;% \n\n  mutate(object_rpact = pmap(list(alpha = alpha, \n\n                                  beta = 1 - power,\n\n                                  median1 = median1,\n\n                                  median2 = median2), \n\n                  getSampleSizeSurvival, \n\n                  followUpTime = 6, \n\n                  accrualTime = 18)) %&gt;% \n\n  mutate(total_subject = map_dbl(object_rpact, get_number, element = \"numberOfSubjects\")) %&gt;% \n\n  mutate(n1_subject = map_dbl(object_rpact, get_number, element = \"numberOfSubjects1\")) %&gt;% \n\n  mutate(n2_subject = map_dbl(object_rpact, get_number, element = \"numberOfSubjects2\")) %&gt;% \n\n  mutate(hazardratio = map_dbl(object_rpact, get_number, element = \"hazardRatio\")) %&gt;% \n\n  mutate(event_h1 = map_dbl(object_rpact, get_number, element = \"expectedEventsH1\")) %&gt;% \n\n  mutate(across(c(total_subject, n1_subject, n2_subject), ceiling)) %&gt;% \n\n  mutate(across(c(alpha, power, hazardratio), ~ round(.x, digits = 3))) %&gt;% \n\n  mutate(across(c(event_h1), ~ round(.x, digits = 1))) %&gt;% \n\n  mutate(followUpTime = 6, accrualTime = 18) %&gt;% \n\n  mutate(total_study = followUpTime + accrualTime) %&gt;% \n\n  arrange(alpha, power, n1_subject, n2_subject, total_subject, median2) %&gt;% \n\n  mutate(scenario = row_number()) %&gt;%\n\n  select(scenario, power, alpha, n1_subject, n2_subject, total_subject, event_h1,\n\n         hazardratio, median1, median2, accrualTime, total_study) %&gt;% \n\n  rename(Scenario = scenario, Power = power, Alpha = alpha, \n\n         `Number of Events` = event_h1,\n\n         `Control # Patients` = n1_subject, `Experimental # Patients` = n2_subject, \n\n         `Total # patients` = total_subject, `Hazard Ratio (HR)` = hazardratio, \n\n         `Control MedSurv Time` = median1, `Experimental MedSurv Time` = median2,\n\n         `Enrolment Time (months)` = accrualTime, `Total Study Time (months)` = total_study)\n\ntable_n %&gt;% \n\n  # select(-c(object_rpact, hazard, thetah0)) %&gt;% \n\n  gt() |&gt;\n\n  tab_header(title = \"Tables with new inputs\")\n\n\n\n\n\n\n\nTables with new inputs\n\n\nScenario\nPower\nAlpha\nControl # Patients\nExperimental # Patients\nTotal # patients\nNumber of Events\nHazard Ratio (HR)\nControl MedSurv Time\nExperimental MedSurv Time\nEnrolment Time (months)\nTotal Study Time (months)\n\n\n\n\n1\n0.60\n0.025\n57\n57\n114\n83.1\n1.625\n5.6\n9.1\n18\n24\n\n\n2\n0.60\n0.025\n72\n72\n144\n106.5\n1.536\n5.6\n8.6\n18\n24\n\n\n3\n0.60\n0.025\n138\n138\n276\n210.1\n1.357\n5.6\n7.6\n18\n24\n\n\n4\n0.65\n0.025\n64\n64\n128\n93.3\n1.625\n5.6\n9.1\n18\n24\n\n\n5\n0.65\n0.025\n81\n81\n162\n119.5\n1.536\n5.6\n8.6\n18\n24\n\n\n6\n0.65\n0.025\n155\n155\n310\n235.9\n1.357\n5.6\n7.6\n18\n24\n\n\n7\n0.70\n0.025\n72\n72\n143\n104.7\n1.625\n5.6\n9.1\n18\n24\n\n\n8\n0.70\n0.025\n91\n91\n181\n134.1\n1.536\n5.6\n8.6\n18\n24\n\n\n9\n0.70\n0.025\n174\n174\n348\n264.7\n1.357\n5.6\n7.6\n18\n24\n\n\n10\n0.75\n0.025\n81\n81\n161\n117.8\n1.625\n5.6\n9.1\n18\n24\n\n\n11\n0.75\n0.025\n102\n102\n204\n150.8\n1.536\n5.6\n8.6\n18\n24\n\n\n12\n0.75\n0.025\n196\n196\n391\n297.7\n1.357\n5.6\n7.6\n18\n24\n\n\n13\n0.80\n0.025\n91\n91\n182\n133.2\n1.625\n5.6\n9.1\n18\n24\n\n\n14\n0.80\n0.025\n115\n115\n230\n170.6\n1.536\n5.6\n8.6\n18\n24\n\n\n15\n0.80\n0.025\n221\n221\n442\n336.7\n1.357\n5.6\n7.6\n18\n24\n\n\n16\n0.85\n0.025\n105\n105\n209\n152.4\n1.625\n5.6\n9.1\n18\n24\n\n\n17\n0.85\n0.025\n132\n132\n263\n195.1\n1.536\n5.6\n8.6\n18\n24\n\n\n18\n0.85\n0.025\n253\n253\n505\n385.1\n1.357\n5.6\n7.6\n18\n24\n\n\n19\n0.90\n0.025\n122\n122\n244\n178.3\n1.625\n5.6\n9.1\n18\n24\n\n\n20\n0.90\n0.025\n154\n154\n308\n228.4\n1.536\n5.6\n8.6\n18\n24\n\n\n21\n0.90\n0.025\n296\n296\n591\n450.7\n1.357\n5.6\n7.6\n18\n24\n\n\n22\n0.95\n0.025\n151\n151\n302\n220.5\n1.625\n5.6\n9.1\n18\n24\n\n\n23\n0.95\n0.025\n191\n191\n381\n282.4\n1.536\n5.6\n8.6\n18\n24\n\n\n24\n0.95\n0.025\n366\n366\n731\n557.4\n1.357\n5.6\n7.6\n18\n24\n\n\n25\n0.60\n0.050\n42\n42\n84\n61.1\n1.625\n5.6\n9.1\n18\n24\n\n\n26\n0.60\n0.050\n53\n53\n106\n78.3\n1.536\n5.6\n8.6\n18\n24\n\n\n27\n0.60\n0.050\n102\n102\n203\n154.5\n1.357\n5.6\n7.6\n18\n24\n\n\n28\n0.65\n0.050\n48\n48\n96\n69.9\n1.625\n5.6\n9.1\n18\n24\n\n\n29\n0.65\n0.050\n61\n61\n121\n89.6\n1.536\n5.6\n8.6\n18\n24\n\n\n30\n0.65\n0.050\n116\n116\n232\n176.8\n1.357\n5.6\n7.6\n18\n24\n\n\n31\n0.70\n0.050\n55\n55\n110\n79.9\n1.625\n5.6\n9.1\n18\n24\n\n\n32\n0.70\n0.050\n69\n69\n138\n102.3\n1.536\n5.6\n8.6\n18\n24\n\n\n33\n0.70\n0.050\n133\n133\n265\n201.8\n1.357\n5.6\n7.6\n18\n24\n\n\n34\n0.75\n0.050\n63\n63\n125\n91.3\n1.625\n5.6\n9.1\n18\n24\n\n\n35\n0.75\n0.050\n79\n79\n158\n116.9\n1.536\n5.6\n8.6\n18\n24\n\n\n36\n0.75\n0.050\n152\n152\n303\n230.7\n1.357\n5.6\n7.6\n18\n24\n\n\n37\n0.80\n0.050\n72\n72\n144\n104.9\n1.625\n5.6\n9.1\n18\n24\n\n\n38\n0.80\n0.050\n91\n91\n182\n134.4\n1.536\n5.6\n8.6\n18\n24\n\n\n39\n0.80\n0.050\n174\n174\n348\n265.2\n1.357\n5.6\n7.6\n18\n24\n\n\n40\n0.85\n0.050\n84\n84\n167\n122.0\n1.625\n5.6\n9.1\n18\n24\n\n\n41\n0.85\n0.050\n106\n106\n211\n156.3\n1.536\n5.6\n8.6\n18\n24\n\n\n42\n0.85\n0.050\n203\n203\n405\n308.4\n1.357\n5.6\n7.6\n18\n24\n\n\n43\n0.90\n0.050\n100\n100\n199\n145.3\n1.625\n5.6\n9.1\n18\n24\n\n\n44\n0.90\n0.050\n126\n126\n251\n186.1\n1.536\n5.6\n8.6\n18\n24\n\n\n45\n0.90\n0.050\n241\n241\n482\n367.3\n1.357\n5.6\n7.6\n18\n24\n\n\n46\n0.95\n0.050\n126\n126\n251\n183.6\n1.625\n5.6\n9.1\n18\n24\n\n\n47\n0.95\n0.050\n159\n159\n317\n235.2\n1.536\n5.6\n8.6\n18\n24\n\n\n48\n0.95\n0.050\n305\n305\n609\n464.2\n1.357\n5.6\n7.6\n18\n24\n\n\n49\n0.60\n0.100\n28\n28\n55\n40.0\n1.625\n5.6\n9.1\n18\n24\n\n\n50\n0.60\n0.100\n35\n35\n70\n51.2\n1.536\n5.6\n8.6\n18\n24\n\n\n51\n0.60\n0.100\n67\n67\n133\n101.0\n1.357\n5.6\n7.6\n18\n24\n\n\n52\n0.65\n0.100\n33\n33\n65\n47.1\n1.625\n5.6\n9.1\n18\n24\n\n\n53\n0.65\n0.100\n41\n41\n82\n60.4\n1.536\n5.6\n8.6\n18\n24\n\n\n54\n0.65\n0.100\n79\n79\n157\n119.2\n1.357\n5.6\n7.6\n18\n24\n\n\n55\n0.70\n0.100\n38\n38\n76\n55.3\n1.625\n5.6\n9.1\n18\n24\n\n\n56\n0.70\n0.100\n48\n48\n96\n70.9\n1.536\n5.6\n8.6\n18\n24\n\n\n57\n0.70\n0.100\n92\n92\n184\n139.9\n1.357\n5.6\n7.6\n18\n24\n\n\n58\n0.75\n0.100\n45\n45\n89\n64.9\n1.625\n5.6\n9.1\n18\n24\n\n\n59\n0.75\n0.100\n57\n57\n113\n83.2\n1.536\n5.6\n8.6\n18\n24\n\n\n60\n0.75\n0.100\n108\n108\n216\n164.1\n1.357\n5.6\n7.6\n18\n24\n\n\n61\n0.80\n0.100\n53\n53\n105\n76.5\n1.625\n5.6\n9.1\n18\n24\n\n\n62\n0.80\n0.100\n67\n67\n133\n98.0\n1.536\n5.6\n8.6\n18\n24\n\n\n63\n0.80\n0.100\n127\n127\n254\n193.4\n1.357\n5.6\n7.6\n18\n24\n\n\n64\n0.85\n0.100\n63\n63\n125\n91.2\n1.625\n5.6\n9.1\n18\n24\n\n\n65\n0.85\n0.100\n79\n79\n158\n116.8\n1.536\n5.6\n8.6\n18\n24\n\n\n66\n0.85\n0.100\n152\n152\n303\n230.5\n1.357\n5.6\n7.6\n18\n24\n\n\n67\n0.90\n0.100\n77\n77\n153\n111.5\n1.625\n5.6\n9.1\n18\n24\n\n\n68\n0.90\n0.100\n97\n97\n193\n142.8\n1.536\n5.6\n8.6\n18\n24\n\n\n69\n0.90\n0.100\n185\n185\n370\n281.8\n1.357\n5.6\n7.6\n18\n24\n\n\n70\n0.95\n0.100\n100\n100\n199\n145.3\n1.625\n5.6\n9.1\n18\n24\n\n\n71\n0.95\n0.100\n126\n126\n251\n186.1\n1.536\n5.6\n8.6\n18\n24\n\n\n72\n0.95\n0.100\n241\n241\n482\n367.3\n1.357\n5.6\n7.6\n18\n24\n\n\n73\n0.60\n0.150\n20\n20\n39\n28.2\n1.625\n5.6\n9.1\n18\n24\n\n\n74\n0.60\n0.150\n25\n25\n49\n36.2\n1.536\n5.6\n8.6\n18\n24\n\n\n75\n0.60\n0.150\n47\n47\n94\n71.4\n1.357\n5.6\n7.6\n18\n24\n\n\n76\n0.65\n0.150\n24\n24\n47\n34.3\n1.625\n5.6\n9.1\n18\n24\n\n\n77\n0.65\n0.150\n30\n30\n60\n43.9\n1.536\n5.6\n8.6\n18\n24\n\n\n78\n0.65\n0.150\n57\n57\n114\n86.7\n1.357\n5.6\n7.6\n18\n24\n\n\n79\n0.70\n0.150\n29\n29\n57\n41.3\n1.625\n5.6\n9.1\n18\n24\n\n\n80\n0.70\n0.150\n36\n36\n72\n53.0\n1.536\n5.6\n8.6\n18\n24\n\n\n81\n0.70\n0.150\n69\n69\n138\n104.5\n1.357\n5.6\n7.6\n18\n24\n\n\n82\n0.75\n0.150\n34\n34\n68\n49.7\n1.625\n5.6\n9.1\n18\n24\n\n\n83\n0.75\n0.150\n43\n43\n86\n63.6\n1.536\n5.6\n8.6\n18\n24\n\n\n84\n0.75\n0.150\n83\n83\n165\n125.6\n1.357\n5.6\n7.6\n18\n24\n\n\n85\n0.80\n0.150\n41\n41\n82\n59.9\n1.625\n5.6\n9.1\n18\n24\n\n\n86\n0.80\n0.150\n52\n52\n104\n76.7\n1.536\n5.6\n8.6\n18\n24\n\n\n87\n0.80\n0.150\n100\n100\n199\n151.3\n1.357\n5.6\n7.6\n18\n24\n\n\n88\n0.85\n0.150\n50\n50\n100\n72.9\n1.625\n5.6\n9.1\n18\n24\n\n\n89\n0.85\n0.150\n63\n63\n126\n93.4\n1.536\n5.6\n8.6\n18\n24\n\n\n90\n0.85\n0.150\n121\n121\n242\n184.3\n1.357\n5.6\n7.6\n18\n24\n\n\n91\n0.90\n0.150\n63\n63\n125\n91.2\n1.625\n5.6\n9.1\n18\n24\n\n\n92\n0.90\n0.150\n79\n79\n158\n116.8\n1.536\n5.6\n8.6\n18\n24\n\n\n93\n0.90\n0.150\n152\n152\n303\n230.5\n1.357\n5.6\n7.6\n18\n24\n\n\n94\n0.95\n0.150\n84\n84\n167\n122.0\n1.625\n5.6\n9.1\n18\n24\n\n\n95\n0.95\n0.150\n106\n106\n211\n156.3\n1.536\n5.6\n8.6\n18\n24\n\n\n96\n0.95\n0.150\n203\n203\n405\n308.4\n1.357\n5.6\n7.6\n18\n24\n\n\n97\n0.60\n0.200\n14\n14\n28\n20.3\n1.625\n5.6\n9.1\n18\n24\n\n\n98\n0.60\n0.200\n18\n18\n36\n26.1\n1.536\n5.6\n8.6\n18\n24\n\n\n99\n0.60\n0.200\n34\n34\n68\n51.4\n1.357\n5.6\n7.6\n18\n24\n\n\n100\n0.65\n0.200\n18\n18\n35\n25.5\n1.625\n5.6\n9.1\n18\n24\n\n\n101\n0.65\n0.200\n23\n23\n45\n32.7\n1.536\n5.6\n8.6\n18\n24\n\n\n102\n0.65\n0.200\n43\n43\n85\n64.6\n1.357\n5.6\n7.6\n18\n24\n\n\n103\n0.70\n0.200\n22\n22\n44\n31.7\n1.625\n5.6\n9.1\n18\n24\n\n\n104\n0.70\n0.200\n28\n28\n55\n40.6\n1.536\n5.6\n8.6\n18\n24\n\n\n105\n0.70\n0.200\n53\n53\n105\n80.0\n1.357\n5.6\n7.6\n18\n24\n\n\n106\n0.75\n0.200\n27\n27\n54\n39.0\n1.625\n5.6\n9.1\n18\n24\n\n\n107\n0.75\n0.200\n34\n34\n68\n50.0\n1.536\n5.6\n8.6\n18\n24\n\n\n108\n0.75\n0.200\n65\n65\n130\n98.6\n1.357\n5.6\n7.6\n18\n24\n\n\n109\n0.80\n0.200\n33\n33\n66\n48.1\n1.625\n5.6\n9.1\n18\n24\n\n\n110\n0.80\n0.200\n42\n42\n83\n61.6\n1.536\n5.6\n8.6\n18\n24\n\n\n111\n0.80\n0.200\n80\n80\n160\n121.5\n1.357\n5.6\n7.6\n18\n24\n\n\n112\n0.85\n0.200\n41\n41\n82\n59.9\n1.625\n5.6\n9.1\n18\n24\n\n\n113\n0.85\n0.200\n52\n52\n104\n76.7\n1.536\n5.6\n8.6\n18\n24\n\n\n114\n0.85\n0.200\n100\n100\n199\n151.3\n1.357\n5.6\n7.6\n18\n24\n\n\n115\n0.90\n0.200\n53\n53\n105\n76.5\n1.625\n5.6\n9.1\n18\n24\n\n\n116\n0.90\n0.200\n67\n67\n133\n98.0\n1.536\n5.6\n8.6\n18\n24\n\n\n117\n0.90\n0.200\n127\n127\n254\n193.4\n1.357\n5.6\n7.6\n18\n24\n\n\n118\n0.95\n0.200\n72\n72\n144\n104.9\n1.625\n5.6\n9.1\n18\n24\n\n\n119\n0.95\n0.200\n91\n91\n182\n134.4\n1.536\n5.6\n8.6\n18\n24\n\n\n120\n0.95\n0.200\n174\n174\n348\n265.2\n1.357\n5.6\n7.6\n18\n24\n\n\n\n\n\n\ngt(table_n) %&gt;% \n  tab_header(title = \"Table 1: Sample size depending on different alpha, power and effect sizes, 24 months study duration\") %&gt;% \n\n tab_options(column_labels.background.color = \"#4A83BE\",\n\n             table.font.size = 10, column_labels.font.size = 12, table.align = \"center\") %&gt;% \n\n  tab_style(style = list(cell_text(style = \"italic\")),\n\n                         locations = cells_body(columns = everything()))\n\n\n\n\n\n\n\nTable 1: Sample size depending on different alpha, power and effect sizes, 24 months study duration\n\n\nScenario\nPower\nAlpha\nControl # Patients\nExperimental # Patients\nTotal # patients\nNumber of Events\nHazard Ratio (HR)\nControl MedSurv Time\nExperimental MedSurv Time\nEnrolment Time (months)\nTotal Study Time (months)\n\n\n\n\n1\n0.60\n0.025\n57\n57\n114\n83.1\n1.625\n5.6\n9.1\n18\n24\n\n\n2\n0.60\n0.025\n72\n72\n144\n106.5\n1.536\n5.6\n8.6\n18\n24\n\n\n3\n0.60\n0.025\n138\n138\n276\n210.1\n1.357\n5.6\n7.6\n18\n24\n\n\n4\n0.65\n0.025\n64\n64\n128\n93.3\n1.625\n5.6\n9.1\n18\n24\n\n\n5\n0.65\n0.025\n81\n81\n162\n119.5\n1.536\n5.6\n8.6\n18\n24\n\n\n6\n0.65\n0.025\n155\n155\n310\n235.9\n1.357\n5.6\n7.6\n18\n24\n\n\n7\n0.70\n0.025\n72\n72\n143\n104.7\n1.625\n5.6\n9.1\n18\n24\n\n\n8\n0.70\n0.025\n91\n91\n181\n134.1\n1.536\n5.6\n8.6\n18\n24\n\n\n9\n0.70\n0.025\n174\n174\n348\n264.7\n1.357\n5.6\n7.6\n18\n24\n\n\n10\n0.75\n0.025\n81\n81\n161\n117.8\n1.625\n5.6\n9.1\n18\n24\n\n\n11\n0.75\n0.025\n102\n102\n204\n150.8\n1.536\n5.6\n8.6\n18\n24\n\n\n12\n0.75\n0.025\n196\n196\n391\n297.7\n1.357\n5.6\n7.6\n18\n24\n\n\n13\n0.80\n0.025\n91\n91\n182\n133.2\n1.625\n5.6\n9.1\n18\n24\n\n\n14\n0.80\n0.025\n115\n115\n230\n170.6\n1.536\n5.6\n8.6\n18\n24\n\n\n15\n0.80\n0.025\n221\n221\n442\n336.7\n1.357\n5.6\n7.6\n18\n24\n\n\n16\n0.85\n0.025\n105\n105\n209\n152.4\n1.625\n5.6\n9.1\n18\n24\n\n\n17\n0.85\n0.025\n132\n132\n263\n195.1\n1.536\n5.6\n8.6\n18\n24\n\n\n18\n0.85\n0.025\n253\n253\n505\n385.1\n1.357\n5.6\n7.6\n18\n24\n\n\n19\n0.90\n0.025\n122\n122\n244\n178.3\n1.625\n5.6\n9.1\n18\n24\n\n\n20\n0.90\n0.025\n154\n154\n308\n228.4\n1.536\n5.6\n8.6\n18\n24\n\n\n21\n0.90\n0.025\n296\n296\n591\n450.7\n1.357\n5.6\n7.6\n18\n24\n\n\n22\n0.95\n0.025\n151\n151\n302\n220.5\n1.625\n5.6\n9.1\n18\n24\n\n\n23\n0.95\n0.025\n191\n191\n381\n282.4\n1.536\n5.6\n8.6\n18\n24\n\n\n24\n0.95\n0.025\n366\n366\n731\n557.4\n1.357\n5.6\n7.6\n18\n24\n\n\n25\n0.60\n0.050\n42\n42\n84\n61.1\n1.625\n5.6\n9.1\n18\n24\n\n\n26\n0.60\n0.050\n53\n53\n106\n78.3\n1.536\n5.6\n8.6\n18\n24\n\n\n27\n0.60\n0.050\n102\n102\n203\n154.5\n1.357\n5.6\n7.6\n18\n24\n\n\n28\n0.65\n0.050\n48\n48\n96\n69.9\n1.625\n5.6\n9.1\n18\n24\n\n\n29\n0.65\n0.050\n61\n61\n121\n89.6\n1.536\n5.6\n8.6\n18\n24\n\n\n30\n0.65\n0.050\n116\n116\n232\n176.8\n1.357\n5.6\n7.6\n18\n24\n\n\n31\n0.70\n0.050\n55\n55\n110\n79.9\n1.625\n5.6\n9.1\n18\n24\n\n\n32\n0.70\n0.050\n69\n69\n138\n102.3\n1.536\n5.6\n8.6\n18\n24\n\n\n33\n0.70\n0.050\n133\n133\n265\n201.8\n1.357\n5.6\n7.6\n18\n24\n\n\n34\n0.75\n0.050\n63\n63\n125\n91.3\n1.625\n5.6\n9.1\n18\n24\n\n\n35\n0.75\n0.050\n79\n79\n158\n116.9\n1.536\n5.6\n8.6\n18\n24\n\n\n36\n0.75\n0.050\n152\n152\n303\n230.7\n1.357\n5.6\n7.6\n18\n24\n\n\n37\n0.80\n0.050\n72\n72\n144\n104.9\n1.625\n5.6\n9.1\n18\n24\n\n\n38\n0.80\n0.050\n91\n91\n182\n134.4\n1.536\n5.6\n8.6\n18\n24\n\n\n39\n0.80\n0.050\n174\n174\n348\n265.2\n1.357\n5.6\n7.6\n18\n24\n\n\n40\n0.85\n0.050\n84\n84\n167\n122.0\n1.625\n5.6\n9.1\n18\n24\n\n\n41\n0.85\n0.050\n106\n106\n211\n156.3\n1.536\n5.6\n8.6\n18\n24\n\n\n42\n0.85\n0.050\n203\n203\n405\n308.4\n1.357\n5.6\n7.6\n18\n24\n\n\n43\n0.90\n0.050\n100\n100\n199\n145.3\n1.625\n5.6\n9.1\n18\n24\n\n\n44\n0.90\n0.050\n126\n126\n251\n186.1\n1.536\n5.6\n8.6\n18\n24\n\n\n45\n0.90\n0.050\n241\n241\n482\n367.3\n1.357\n5.6\n7.6\n18\n24\n\n\n46\n0.95\n0.050\n126\n126\n251\n183.6\n1.625\n5.6\n9.1\n18\n24\n\n\n47\n0.95\n0.050\n159\n159\n317\n235.2\n1.536\n5.6\n8.6\n18\n24\n\n\n48\n0.95\n0.050\n305\n305\n609\n464.2\n1.357\n5.6\n7.6\n18\n24\n\n\n49\n0.60\n0.100\n28\n28\n55\n40.0\n1.625\n5.6\n9.1\n18\n24\n\n\n50\n0.60\n0.100\n35\n35\n70\n51.2\n1.536\n5.6\n8.6\n18\n24\n\n\n51\n0.60\n0.100\n67\n67\n133\n101.0\n1.357\n5.6\n7.6\n18\n24\n\n\n52\n0.65\n0.100\n33\n33\n65\n47.1\n1.625\n5.6\n9.1\n18\n24\n\n\n53\n0.65\n0.100\n41\n41\n82\n60.4\n1.536\n5.6\n8.6\n18\n24\n\n\n54\n0.65\n0.100\n79\n79\n157\n119.2\n1.357\n5.6\n7.6\n18\n24\n\n\n55\n0.70\n0.100\n38\n38\n76\n55.3\n1.625\n5.6\n9.1\n18\n24\n\n\n56\n0.70\n0.100\n48\n48\n96\n70.9\n1.536\n5.6\n8.6\n18\n24\n\n\n57\n0.70\n0.100\n92\n92\n184\n139.9\n1.357\n5.6\n7.6\n18\n24\n\n\n58\n0.75\n0.100\n45\n45\n89\n64.9\n1.625\n5.6\n9.1\n18\n24\n\n\n59\n0.75\n0.100\n57\n57\n113\n83.2\n1.536\n5.6\n8.6\n18\n24\n\n\n60\n0.75\n0.100\n108\n108\n216\n164.1\n1.357\n5.6\n7.6\n18\n24\n\n\n61\n0.80\n0.100\n53\n53\n105\n76.5\n1.625\n5.6\n9.1\n18\n24\n\n\n62\n0.80\n0.100\n67\n67\n133\n98.0\n1.536\n5.6\n8.6\n18\n24\n\n\n63\n0.80\n0.100\n127\n127\n254\n193.4\n1.357\n5.6\n7.6\n18\n24\n\n\n64\n0.85\n0.100\n63\n63\n125\n91.2\n1.625\n5.6\n9.1\n18\n24\n\n\n65\n0.85\n0.100\n79\n79\n158\n116.8\n1.536\n5.6\n8.6\n18\n24\n\n\n66\n0.85\n0.100\n152\n152\n303\n230.5\n1.357\n5.6\n7.6\n18\n24\n\n\n67\n0.90\n0.100\n77\n77\n153\n111.5\n1.625\n5.6\n9.1\n18\n24\n\n\n68\n0.90\n0.100\n97\n97\n193\n142.8\n1.536\n5.6\n8.6\n18\n24\n\n\n69\n0.90\n0.100\n185\n185\n370\n281.8\n1.357\n5.6\n7.6\n18\n24\n\n\n70\n0.95\n0.100\n100\n100\n199\n145.3\n1.625\n5.6\n9.1\n18\n24\n\n\n71\n0.95\n0.100\n126\n126\n251\n186.1\n1.536\n5.6\n8.6\n18\n24\n\n\n72\n0.95\n0.100\n241\n241\n482\n367.3\n1.357\n5.6\n7.6\n18\n24\n\n\n73\n0.60\n0.150\n20\n20\n39\n28.2\n1.625\n5.6\n9.1\n18\n24\n\n\n74\n0.60\n0.150\n25\n25\n49\n36.2\n1.536\n5.6\n8.6\n18\n24\n\n\n75\n0.60\n0.150\n47\n47\n94\n71.4\n1.357\n5.6\n7.6\n18\n24\n\n\n76\n0.65\n0.150\n24\n24\n47\n34.3\n1.625\n5.6\n9.1\n18\n24\n\n\n77\n0.65\n0.150\n30\n30\n60\n43.9\n1.536\n5.6\n8.6\n18\n24\n\n\n78\n0.65\n0.150\n57\n57\n114\n86.7\n1.357\n5.6\n7.6\n18\n24\n\n\n79\n0.70\n0.150\n29\n29\n57\n41.3\n1.625\n5.6\n9.1\n18\n24\n\n\n80\n0.70\n0.150\n36\n36\n72\n53.0\n1.536\n5.6\n8.6\n18\n24\n\n\n81\n0.70\n0.150\n69\n69\n138\n104.5\n1.357\n5.6\n7.6\n18\n24\n\n\n82\n0.75\n0.150\n34\n34\n68\n49.7\n1.625\n5.6\n9.1\n18\n24\n\n\n83\n0.75\n0.150\n43\n43\n86\n63.6\n1.536\n5.6\n8.6\n18\n24\n\n\n84\n0.75\n0.150\n83\n83\n165\n125.6\n1.357\n5.6\n7.6\n18\n24\n\n\n85\n0.80\n0.150\n41\n41\n82\n59.9\n1.625\n5.6\n9.1\n18\n24\n\n\n86\n0.80\n0.150\n52\n52\n104\n76.7\n1.536\n5.6\n8.6\n18\n24\n\n\n87\n0.80\n0.150\n100\n100\n199\n151.3\n1.357\n5.6\n7.6\n18\n24\n\n\n88\n0.85\n0.150\n50\n50\n100\n72.9\n1.625\n5.6\n9.1\n18\n24\n\n\n89\n0.85\n0.150\n63\n63\n126\n93.4\n1.536\n5.6\n8.6\n18\n24\n\n\n90\n0.85\n0.150\n121\n121\n242\n184.3\n1.357\n5.6\n7.6\n18\n24\n\n\n91\n0.90\n0.150\n63\n63\n125\n91.2\n1.625\n5.6\n9.1\n18\n24\n\n\n92\n0.90\n0.150\n79\n79\n158\n116.8\n1.536\n5.6\n8.6\n18\n24\n\n\n93\n0.90\n0.150\n152\n152\n303\n230.5\n1.357\n5.6\n7.6\n18\n24\n\n\n94\n0.95\n0.150\n84\n84\n167\n122.0\n1.625\n5.6\n9.1\n18\n24\n\n\n95\n0.95\n0.150\n106\n106\n211\n156.3\n1.536\n5.6\n8.6\n18\n24\n\n\n96\n0.95\n0.150\n203\n203\n405\n308.4\n1.357\n5.6\n7.6\n18\n24\n\n\n97\n0.60\n0.200\n14\n14\n28\n20.3\n1.625\n5.6\n9.1\n18\n24\n\n\n98\n0.60\n0.200\n18\n18\n36\n26.1\n1.536\n5.6\n8.6\n18\n24\n\n\n99\n0.60\n0.200\n34\n34\n68\n51.4\n1.357\n5.6\n7.6\n18\n24\n\n\n100\n0.65\n0.200\n18\n18\n35\n25.5\n1.625\n5.6\n9.1\n18\n24\n\n\n101\n0.65\n0.200\n23\n23\n45\n32.7\n1.536\n5.6\n8.6\n18\n24\n\n\n102\n0.65\n0.200\n43\n43\n85\n64.6\n1.357\n5.6\n7.6\n18\n24\n\n\n103\n0.70\n0.200\n22\n22\n44\n31.7\n1.625\n5.6\n9.1\n18\n24\n\n\n104\n0.70\n0.200\n28\n28\n55\n40.6\n1.536\n5.6\n8.6\n18\n24\n\n\n105\n0.70\n0.200\n53\n53\n105\n80.0\n1.357\n5.6\n7.6\n18\n24\n\n\n106\n0.75\n0.200\n27\n27\n54\n39.0\n1.625\n5.6\n9.1\n18\n24\n\n\n107\n0.75\n0.200\n34\n34\n68\n50.0\n1.536\n5.6\n8.6\n18\n24\n\n\n108\n0.75\n0.200\n65\n65\n130\n98.6\n1.357\n5.6\n7.6\n18\n24\n\n\n109\n0.80\n0.200\n33\n33\n66\n48.1\n1.625\n5.6\n9.1\n18\n24\n\n\n110\n0.80\n0.200\n42\n42\n83\n61.6\n1.536\n5.6\n8.6\n18\n24\n\n\n111\n0.80\n0.200\n80\n80\n160\n121.5\n1.357\n5.6\n7.6\n18\n24\n\n\n112\n0.85\n0.200\n41\n41\n82\n59.9\n1.625\n5.6\n9.1\n18\n24\n\n\n113\n0.85\n0.200\n52\n52\n104\n76.7\n1.536\n5.6\n8.6\n18\n24\n\n\n114\n0.85\n0.200\n100\n100\n199\n151.3\n1.357\n5.6\n7.6\n18\n24\n\n\n115\n0.90\n0.200\n53\n53\n105\n76.5\n1.625\n5.6\n9.1\n18\n24\n\n\n116\n0.90\n0.200\n67\n67\n133\n98.0\n1.536\n5.6\n8.6\n18\n24\n\n\n117\n0.90\n0.200\n127\n127\n254\n193.4\n1.357\n5.6\n7.6\n18\n24\n\n\n118\n0.95\n0.200\n72\n72\n144\n104.9\n1.625\n5.6\n9.1\n18\n24\n\n\n119\n0.95\n0.200\n91\n91\n182\n134.4\n1.536\n5.6\n8.6\n18\n24\n\n\n120\n0.95\n0.200\n174\n174\n348\n265.2\n1.357\n5.6\n7.6\n18\n24"
  },
  {
    "objectID": "classification_blood_cells_cnn.html",
    "href": "classification_blood_cells_cnn.html",
    "title": "Classification of blood cells with CNN",
    "section": "",
    "text": "Objectives\nThe goal of this project is to identify different types of blood cells using computer vision algorithms. The density and relative abundance of blood cells in a smear are crucial for diagnosing many pathologies, such as leukemia, which relies on the lymphocyte ratio. The identification of abnormal leukocytes in diseases like leukemia could complement this first step.\nDeveloping a tool capable of analyzing cells from blood smears could not only facilitate the diagnosis of certain pathologies but also be applied in a research context.\n\n\nPre-processing and Feature Engineering\nOne corrupted image in the Munich dataset was removed. The images were converted to PNG format in order to use Keras‚Äô image_dataset_from_directory method, which enables dynamic image loading. In addition, PNG images are approximately ten times smaller than TIFF images.\nFurthermore, an outlier detection step was planned based on two features: brightness (mean gray level) and contrast (standard deviation of gray levels) for each image (ScienceDirect Topics, Image Contrast). An image is considered an outlier if its brightness deviates by more than two standard deviations from the global mean brightness of the dataset. The same principle is applied to contrast: any image whose standard deviation deviates by more than two standard deviations is flagged as an outlier.\n\n\nSegmentation with Masks\nIn the context of cell image classification, one of the major challenges is to direct the model‚Äôs attention toward the truly relevant regions ‚Äî the cells themselves ‚Äî rather than background elements (artifacts, noise, out-of-focus cells, etc.). Indeed, blood smear images often contain parasitic information such as lighting variations, stains, blurry areas, or multiple partially visible cells. These factors can mislead the classifier, causing it to learn non-discriminative or even detrimental features.\nTo address this issue, a preliminary segmentation step was introduced. This step relies on a U-Net‚Äìbased model, an architecture widely used in biomedical image segmentation. U-Net is a convolutional neural network with a U-shaped design, composed of an encoder (extracting global image features) and a symmetric decoder (reconstructing the segmentation map at the original resolution). Skip connections between encoder and decoder layers preserve fine-grained spatial details during reconstruction.\n\n\nFinal Classification Model Using Transfer Learning\nThe final CNN model incorporates the input masks generated during the segmentation step, combined with transfer learning on ResNet50. We designed an architecture in which the network receives the masked image and extracts features through the pre-trained convolutional layers. This approach significantly improved performance compared to a simple CNN, by directing the model‚Äôs focus toward the truly relevant regions of the image using the masks.\n\n\nTraining Strategy for the Full Model\nWe chose the ResNet50 model with progressive fine-tuning, as it offered the best trade-off between accuracy, training stability, and computational time. The model was trained in several phases: initialization, partial unfreezing, and full unfreezing. It was compiled using the sparse_categorical_crossentropy loss function, appropriate for a multi-class classification task.\nTo address class imbalance, as mentioned earlier, two complementary approaches were implemented:\n\nData augmentation: There are three minority classes (debris, immature monocytes, and erythroids) with 10, 17, and 50 images in the training set after the split, respectively. These images were artificially augmented using simple random rotations (25 times per image), without modifying zoom, translation, or contrast. After augmentation, there are therefore 260 (250 + 10) debris images, 442 (425 + 17) immature monocyte images, and 1300 (1250 + 50) erythroid images.\nClass weights: Differentiated weights were incorporated into the loss function to compensate for the imbalance, ranging from 0.3 to 8.6. It is important to avoid excessively extreme weights to maintain a moderate adjustment.\n\n\n\nInterpretation of the Final Convolutional Layer\nThe figure below highlights the regions of the image that contributed most to the prediction. Here, we observe that the model correctly focuses on the central area containing the granular nucleus characteristic of basophils, which reinforces confidence in the automatic classification. This demonstrates the importance of masks in cell classification, by excluding non-relevant regions that could otherwise interfere with the learning of meaningful and specific patterns.\n\n\nPerformance Evaluation\nThe confusion matrix on the test set demonstrates very good performance on previously unseen data. The accuracy on the test set is 0.94.\nhttps://github.com/wfarin/mars25_bds_blood_cells"
  },
  {
    "objectID": "survival_analysis.html#sample-size-calculation",
    "href": "survival_analysis.html#sample-size-calculation",
    "title": "Analyse de survie avec R",
    "section": "Sample Size Calculation",
    "text": "Sample Size Calculation\nThe exercice in this section is to calculate the minimal sample size to achieve at least 80% of statistical power and 5% of alpha"
  },
  {
    "objectID": "docs/classification_blood_cells_cnn.html",
    "href": "docs/classification_blood_cells_cnn.html",
    "title": "Classification of blood cells with CNN",
    "section": "",
    "text": "https://github.com/wfarin/mars25_bds_blood_cells"
  }
]